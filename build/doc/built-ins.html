<!DOCTYPE html><html><head><meta charset="utf-8" /><title>ES6 - 内建</title><link href="/stylesheets/app.css" rel="stylesheet" type="text/css" /><script src="/javascripts/app.js" type="text/javascript"></script></head><body><div class="sticky"><nav class="top-bar" data-options="sticky_on: large" data-topbar="" role="navigation"><ul class="title-area"><li class="name"><h1><a href="/"> ECMAScript6 Tutorial</a></h1></li><lwi class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></lwi></ul><section class="top-bar-section"><ul class="right"><li id="tool"><a href="/doc/start.html"> 前言</a></li><li id="optimisation"><a href="/doc/optimisation.html"> 优化</a></li><li id="syntax"><a href="/doc/syntax.html"> 语法</a></li><li id="bindings"><a href="/doc/bindings.html"> 绑定</a></li><li id="functions"><a href="/doc/functions.html"> 函数</a></li><li id="built-ins"><a href="/doc/built-ins.html"> 内建</a></li><li id="built-in-extensions"><a href="/doc/built-in-extensions.html"> 内建扩展</a></li><li id="subclassing"><a href="/doc/subclassing.html"> 子类</a></li><li id="misc"><a href="/doc/misc.html"> 混杂</a></li><li id="annex-b"><a href="/doc/annex-b.html"> 附录</a></li><li id="examples"><a href="/examples"> 实例</a></li><li><a href="http://kangax.github.io/compat-table/es6/#ie11tp" target="_blank"> 兼容性</a></li></ul></section></nav></div><div class="wrap"><div class="row"><div class="large-3 columns show-for-large-up"><table class="pos-fixed scroll-nav"></table></div><div class="large-9 columns"><div class="feature"><h4>一、typed arrays</h4><h5 class="subheader">typed arrays</h5><div class="feature-content"><h5>1.Int8Array</h5><h5 class="subheader">Int8Array</h5><pre><code class="javascript">var buffer = new ArrayBuffer(64);
var view = new Int8Array(buffer);         
view[0] = 0x80;
console.log(view[0] === -0x80);</code></pre><p>结果为 true。</p><h5>2.Uint8Array</h5><h5 class="subheader">Uint8Array</h5><pre><code class="javascript">var buffer = new ArrayBuffer(64);
var view = new Uint8Array(buffer);        
view[0] = 0x100;
console.log(view[0] === 0);</code></pre><p>结果为 true。</p><h5>3.Uint8ClampedArray</h5><h5 class="subheader">Uint8ClampedArray</h5><pre><code class="javascript">var buffer = new ArrayBuffer(64);
var view = new Uint8ClampedArray(buffer); view[0] = 0x100;
console.log(view[0] === 0xFF);</code></pre><p>结果为 true。</p><h5>4.Int16Array</h5><h5 class="subheader">Int16Array</h5><pre><code class="javascript">var buffer = new ArrayBuffer(64);
var view = new Int16Array(buffer);        
view[0] = 0x8000;
console.log(view[0] === -0x8000);</code></pre><p>结果为 true。</p><h5>5.Uint16Array</h5><h5 class="subheader">Uint16Array</h5><pre><code class="javascript">var buffer = new ArrayBuffer(64);
var view = new Uint16Array(buffer);       
view[0] = 0x10000;
console.log(view[0] === 0);</code></pre><p>结果为 true。</p><h5>6.Int32Array</h5><h5 class="subheader">Int32Array</h5><pre><code class="javascript">var buffer = new ArrayBuffer(64);
var view = new Int32Array(buffer);        
view[0] = 0x80000000;
console.log(view[0] === -0x80000000);</code></pre><p>结果为 true。</p><h5>7.Uint32Array</h5><h5 class="subheader">Uint32Array</h5><pre><code class="javascript">var buffer = new ArrayBuffer(64);
var view = new Uint32Array(buffer);       
view[0] = 0x100000000;
console.log(view[0] === 0);</code></pre><p>结果为 true。</p><h5>8.Float32Array</h5><h5 class="subheader">Float32Array</h5><pre><code class="javascript">var buffer = new ArrayBuffer(64);
var view = new Float32Array(buffer);       
view[0] = 0.1;
console.log(view[0] === 0.10000000149011612);</code></pre><p>结果为 true。</p><h5>9.Float64Array</h5><h5 class="subheader">Float64Array</h5><pre><code class="javascript">var buffer = new ArrayBuffer(64);
var view = new Float64Array(buffer);       
view[0] = 0.1;
console.log(view[0] === 0.1);</code></pre><p>结果为 true。</p><h5>10.DataView (Int8)</h5><h5 class="subheader">DataView (Int8)</h5><pre><code class="javascript">var buffer = new ArrayBuffer(64);
var view = new DataView(buffer);
view.setInt8 (0, 0x80);
console.log(view.getInt8(0) === -0x80);</code></pre><p>结果为 true。</p><h5>11.DataView (Uint8)</h5><h5 class="subheader">DataView (Uint8)</h5><pre><code class="javascript">var buffer = new ArrayBuffer(64);
var view = new DataView(buffer);
view.setUint8(0, 0x100);
console.log(view.getUint8(0) === 0);</code></pre><p>结果为 true。</p><h5>12.DataView (Int16)</h5><h5 class="subheader">DataView (Int16)</h5><pre><code class="javascript">var buffer = new ArrayBuffer(64);
var view = new DataView(buffer);
view.setInt16(0, 0x8000);
console.log(view.getInt16(0) === -0x8000);</code></pre><p>结果为 true。</p><h5>13.DataView (Uint16)</h5><h5 class="subheader">DataView (Uint16)</h5><pre><code class="javascript">var buffer = new ArrayBuffer(64);
var view = new DataView(buffer);
view.setUint16(0, 0x10000);
console.log(view.getUint16(0) === 0);</code></pre><p>结果为 true。</p><h5>14.DataView (Int32)</h5><h5 class="subheader">DataView (Int32)</h5><pre><code class="javascript">var buffer = new ArrayBuffer(64);
var view = new DataView(buffer);
view.setInt32(0, 0x80000000);
console.log(view.getInt32(0) === -0x80000000);</code></pre><p>结果为 true。</p><h5>15.DataView (Uint32)</h5><h5 class="subheader">DataView (Uint32)</h5><pre><code class="javascript">var buffer = new ArrayBuffer(64);
var view = new DataView(buffer);
view.setUint32(0, 0x100000000);
console.log(view.getUint32(0) === 0);</code></pre><p>结果为 true。</p><h5>16.DataView (Float32)</h5><h5 class="subheader">DataView (Float32)</h5><pre><code class="javascript">var buffer = new ArrayBuffer(64);
var view = new DataView(buffer);
view.setFloat32(0, 0.1);
console.log(view.getFloat32(0) === 0.10000000149011612);</code></pre><p>结果为 true。</p><h5>17.DataView (Float64)</h5><h5 class="subheader">DataView (Float64)</h5><pre><code class="javascript">var buffer = new ArrayBuffer(64);
var view = new DataView(buffer);
view.setFloat64(0, 0.1);
console.log(view.getFloat64(0) === 0.1);</code></pre><p>结果为 true。</p><h5>18.%TypedArray%.from</h5><h5 class="subheader">%TypedArray%.from</h5><pre><code class="javascript">console.log(typeof Int8Array.from === "function" &&
typeof Uint8Array.from === "function" &&
typeof Uint8ClampedArray.from === "function" &&
typeof Int16Array.from === "function" &&
typeof Uint16Array.from === "function" &&
typeof Int32Array.from === "function" &&
typeof Uint32Array.from === "function" &&
typeof Float32Array.from === "function" &&
typeof Float64Array.from === "function");</code></pre><p>结果为 true。</p><h5>19.%TypedArray%.of</h5><h5 class="subheader">%TypedArray%.of</h5><pre><code class="javascript">console.log(typeof Int8Array.of === "function" &&
typeof Uint8Array.of === "function" &&
typeof Uint8ClampedArray.of === "function" &&
typeof Int16Array.of === "function" &&
typeof Uint16Array.of === "function" &&
typeof Int32Array.of === "function" &&
typeof Uint32Array.of === "function" &&
typeof Float32Array.of === "function" &&
typeof Float64Array.of === "function");</code></pre><p>结果为 true。</p><h5>20.%TypedArray%.prototype.subarray</h5><h5 class="subheader">%TypedArray%.prototype.subarray</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.subarray === "function" &&
typeof Uint8Array.prototype.subarray === "function" &&
typeof Uint8ClampedArray.prototype.subarray === "function" &&
typeof Int16Array.prototype.subarray === "function" &&
typeof Uint16Array.prototype.subarray === "function" &&
typeof Int32Array.prototype.subarray === "function" &&
typeof Uint32Array.prototype.subarray === "function" &&
typeof Float32Array.prototype.subarray === "function" &&
typeof Float64Array.prototype.subarray === "function");</code></pre><p>结果为 true。</p><h5>21.%TypedArray%.prototype.join</h5><h5 class="subheader">%TypedArray%.prototype.join</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.join === "function" &&
typeof Uint8Array.prototype.join === "function" &&
typeof Uint8ClampedArray.prototype.join === "function" &&
typeof Int16Array.prototype.join === "function" &&
typeof Uint16Array.prototype.join === "function" &&
typeof Int32Array.prototype.join === "function" &&
typeof Uint32Array.prototype.join === "function" &&
typeof Float32Array.prototype.join === "function" &&
typeof Float64Array.prototype.join === "function");</code></pre><p>结果为 true。</p><h5>22.%TypedArray%.prototype.indexOf</h5><h5 class="subheader">%TypedArray%.prototype.indexOf</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.indexOf === "function" &&
typeof Uint8Array.prototype.indexOf === "function" &&
typeof Uint8ClampedArray.prototype.indexOf === "function" &&
typeof Int16Array.prototype.indexOf === "function" &&
typeof Uint16Array.prototype.indexOf === "function" &&
typeof Int32Array.prototype.indexOf === "function" &&
typeof Uint32Array.prototype.indexOf === "function" &&
typeof Float32Array.prototype.indexOf === "function" &&
typeof Float64Array.prototype.indexOf === "function");</code></pre><p>结果为 true。</p><h5>23.%TypedArray%.prototype.lastIndexOf</h5><h5 class="subheader">%TypedArray%.prototype.lastIndexOf</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.lastIndexOf === "function" &&
typeof Uint8Array.prototype.lastIndexOf === "function" &&
typeof Uint8ClampedArray.prototype.lastIndexOf === "function" &&
typeof Int16Array.prototype.lastIndexOf === "function" &&
typeof Uint16Array.prototype.lastIndexOf === "function" &&
typeof Int32Array.prototype.lastIndexOf === "function" &&
typeof Uint32Array.prototype.lastIndexOf === "function" &&
typeof Float32Array.prototype.lastIndexOf === "function" &&
typeof Float64Array.prototype.lastIndexOf === "function");</code></pre><p>结果为 true。</p><h5>24.%TypedArray%.prototype.slice</h5><h5 class="subheader">%TypedArray%.prototype.slice</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.slice === "function" &&
typeof Uint8Array.prototype.slice === "function" &&
typeof Uint8ClampedArray.prototype.slice === "function" &&
typeof Int16Array.prototype.slice === "function" &&
typeof Uint16Array.prototype.slice === "function" &&
typeof Int32Array.prototype.slice === "function" &&
typeof Uint32Array.prototype.slice === "function" &&
typeof Float32Array.prototype.slice === "function" &&
typeof Float64Array.prototype.slice === "function");</code></pre><p>结果为 true。</p><h5>25.%TypedArray%.prototype.every</h5><h5 class="subheader">%TypedArray%.prototype.every</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.every === "function" &&
typeof Uint8Array.prototype.every === "function" &&
typeof Uint8ClampedArray.prototype.every === "function" &&
typeof Int16Array.prototype.every === "function" &&
typeof Uint16Array.prototype.every === "function" &&
typeof Int32Array.prototype.every === "function" &&
typeof Uint32Array.prototype.every === "function" &&
typeof Float32Array.prototype.every === "function" &&
typeof Float64Array.prototype.every === "function");</code></pre><p>结果为 true。</p><h5>26.%TypedArray%.prototype.filter</h5><h5 class="subheader">%TypedArray%.prototype.filter</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.filter === "function" &&
typeof Uint8Array.prototype.filter === "function" &&
typeof Uint8ClampedArray.prototype.filter === "function" &&
typeof Int16Array.prototype.filter === "function" &&
typeof Uint16Array.prototype.filter === "function" &&
typeof Int32Array.prototype.filter === "function" &&
typeof Uint32Array.prototype.filter === "function" &&
typeof Float32Array.prototype.filter === "function" &&
typeof Float64Array.prototype.filter === "function");</code></pre><p>结果为 true。</p><h5>27.%TypedArray%.prototype.forEach</h5><h5 class="subheader">%TypedArray%.prototype.forEach</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.forEach === "function" &&
typeof Uint8Array.prototype.forEach === "function" &&
typeof Uint8ClampedArray.prototype.forEach === "function" &&
typeof Int16Array.prototype.forEach === "function" &&
typeof Uint16Array.prototype.forEach === "function" &&
typeof Int32Array.prototype.forEach === "function" &&
typeof Uint32Array.prototype.forEach === "function" &&
typeof Float32Array.prototype.forEach === "function" &&
typeof Float64Array.prototype.forEach === "function");</code></pre><p>结果为 true。</p><h5>28.%TypedArray%.prototype.map</h5><h5 class="subheader">%TypedArray%.prototype.map</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.map === "function" &&
typeof Uint8Array.prototype.map === "function" &&
typeof Uint8ClampedArray.prototype.map === "function" &&
typeof Int16Array.prototype.map === "function" &&
typeof Uint16Array.prototype.map === "function" &&
typeof Int32Array.prototype.map === "function" &&
typeof Uint32Array.prototype.map === "function" &&
typeof Float32Array.prototype.map === "function" &&
typeof Float64Array.prototype.map === "function");</code></pre><p>结果为 true。</p><h5>29.%TypedArray%.prototype.reduce</h5><h5 class="subheader">%TypedArray%.prototype.reduce</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.reduce === "function" &&
typeof Uint8Array.prototype.reduce === "function" &&
typeof Uint8ClampedArray.prototype.reduce === "function" &&
typeof Int16Array.prototype.reduce === "function" &&
typeof Uint16Array.prototype.reduce === "function" &&
typeof Int32Array.prototype.reduce === "function" &&
typeof Uint32Array.prototype.reduce === "function" &&
typeof Float32Array.prototype.reduce === "function" &&
typeof Float64Array.prototype.reduce === "function");</code></pre><p>结果为 true。</p><h5>30.%TypedArray%.prototype.reduceRight</h5><h5 class="subheader">%TypedArray%.prototype.reduceRight</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.reduceRight === "function" &&
typeof Uint8Array.prototype.reduceRight === "function" &&
typeof Uint8ClampedArray.prototype.reduceRight === "function" &&
typeof Int16Array.prototype.reduceRight === "function" &&
typeof Uint16Array.prototype.reduceRight === "function" &&
typeof Int32Array.prototype.reduceRight === "function" &&
typeof Uint32Array.prototype.reduceRight === "function" &&
typeof Float32Array.prototype.reduceRight === "function" &&
typeof Float64Array.prototype.reduceRight === "function");</code></pre><p>结果为 true。</p><h5>31.%TypedArray%.prototype.reverse</h5><h5 class="subheader">%TypedArray%.prototype.reverse</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.reverse === "function" &&
typeof Uint8Array.prototype.reverse === "function" &&
typeof Uint8ClampedArray.prototype.reverse === "function" &&
typeof Int16Array.prototype.reverse === "function" &&
typeof Uint16Array.prototype.reverse === "function" &&
typeof Int32Array.prototype.reverse === "function" &&
typeof Uint32Array.prototype.reverse === "function" &&
typeof Float32Array.prototype.reverse === "function" &&
typeof Float64Array.prototype.reverse === "function");</code></pre><p>结果为 true。</p><h5>32.%TypedArray%.prototype.some</h5><h5 class="subheader">%TypedArray%.prototype.some</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.some === "function" &&
typeof Uint8Array.prototype.some === "function" &&
typeof Uint8ClampedArray.prototype.some === "function" &&
typeof Int16Array.prototype.some === "function" &&
typeof Uint16Array.prototype.some === "function" &&
typeof Int32Array.prototype.some === "function" &&
typeof Uint32Array.prototype.some === "function" &&
typeof Float32Array.prototype.some === "function" &&
typeof Float64Array.prototype.some === "function");</code></pre><p>结果为 true。</p><h5>33.%TypedArray%.prototype.sort</h5><h5 class="subheader">%TypedArray%.prototype.sort</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.sort === "function" &&
typeof Uint8Array.prototype.sort === "function" &&
typeof Uint8ClampedArray.prototype.sort === "function" &&
typeof Int16Array.prototype.sort === "function" &&
typeof Uint16Array.prototype.sort === "function" &&
typeof Int32Array.prototype.sort === "function" &&
typeof Uint32Array.prototype.sort === "function" &&
typeof Float32Array.prototype.sort === "function" &&
typeof Float64Array.prototype.sort === "function");</code></pre><span class="label radius warning">待测试</span><h5>34.%TypedArray%.prototype.copyWithin</h5><h5 class="subheader">%TypedArray%.prototype.copyWithin</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.copyWithin === "function" &&
typeof Uint8Array.prototype.copyWithin === "function" &&
typeof Uint8ClampedArray.prototype.copyWithin === "function" &&
typeof Int16Array.prototype.copyWithin === "function" &&
typeof Uint16Array.prototype.copyWithin === "function" &&
typeof Int32Array.prototype.copyWithin === "function" &&
typeof Uint32Array.prototype.copyWithin === "function" &&
typeof Float32Array.prototype.copyWithin === "function" &&
typeof Float64Array.prototype.copyWithin === "function");</code></pre><p>结果为 true。</p><h5>35.%TypedArray%.prototype.find</h5><h5 class="subheader">%TypedArray%.prototype.find</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.find === "function" &&
typeof Uint8Array.prototype.find === "function" &&
typeof Uint8ClampedArray.prototype.find === "function" &&
typeof Int16Array.prototype.find === "function" &&
typeof Uint16Array.prototype.find === "function" &&
typeof Int32Array.prototype.find === "function" &&
typeof Uint32Array.prototype.find === "function" &&
typeof Float32Array.prototype.find === "function" &&
typeof Float64Array.prototype.find === "function");</code></pre><p>结果为 true。</p><h5>36.%TypedArray%.prototype.findIndex</h5><h5 class="subheader">%TypedArray%.prototype.findIndex</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.findIndex === "function" &&
typeof Uint8Array.prototype.findIndex === "function" &&
typeof Uint8ClampedArray.prototype.findIndex === "function" &&
typeof Int16Array.prototype.findIndex === "function" &&
typeof Uint16Array.prototype.findIndex === "function" &&
typeof Int32Array.prototype.findIndex === "function" &&
typeof Uint32Array.prototype.findIndex === "function" &&
typeof Float32Array.prototype.findIndex === "function" &&
typeof Float64Array.prototype.findIndex === "function");</code></pre><p>结果为 true。</p><h5>37.%TypedArray%.prototype.fill</h5><h5 class="subheader">%TypedArray%.prototype.fill</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.fill === "function" &&
typeof Uint8Array.prototype.fill === "function" &&
typeof Uint8ClampedArray.prototype.fill === "function" &&
typeof Int16Array.prototype.fill === "function" &&
typeof Uint16Array.prototype.fill === "function" &&
typeof Int32Array.prototype.fill === "function" &&
typeof Uint32Array.prototype.fill === "function" &&
typeof Float32Array.prototype.fill === "function" &&
typeof Float64Array.prototype.fill === "function");</code></pre><p>结果为 true。</p><h5>38.%TypedArray%.prototype.keys</h5><h5 class="subheader">%TypedArray%.prototype.keys</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.keys === "function" &&
typeof Uint8Array.prototype.keys === "function" &&
typeof Uint8ClampedArray.prototype.keys === "function" &&
typeof Int16Array.prototype.keys === "function" &&
typeof Uint16Array.prototype.keys === "function" &&
typeof Int32Array.prototype.keys === "function" &&
typeof Uint32Array.prototype.keys === "function" &&
typeof Float32Array.prototype.keys === "function" &&
typeof Float64Array.prototype.keys === "function");</code></pre><p>结果为 true。</p><h5>39.%TypedArray%.prototype.values</h5><h5 class="subheader">%TypedArray%.prototype.values</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.values === "function" &&
typeof Uint8Array.prototype.values === "function" &&
typeof Uint8ClampedArray.prototype.values === "function" &&
typeof Int16Array.prototype.values === "function" &&
typeof Uint16Array.prototype.values === "function" &&
typeof Int32Array.prototype.values === "function" &&
typeof Uint32Array.prototype.values === "function" &&
typeof Float32Array.prototype.values === "function" &&
typeof Float64Array.prototype.values === "function");</code></pre><p>结果为 true。</p><h5>40.%TypedArray%.prototype.entries</h5><h5 class="subheader">%TypedArray%.prototype.entries</h5><pre><code class="javascript">console.log(typeof Int8Array.prototype.entries === "function" &&
typeof Uint8Array.prototype.entries === "function" &&
typeof Uint8ClampedArray.prototype.entries === "function" &&
typeof Int16Array.prototype.entries === "function" &&
typeof Uint16Array.prototype.entries === "function" &&
typeof Int32Array.prototype.entries === "function" &&
typeof Uint32Array.prototype.entries === "function" &&
typeof Float32Array.prototype.entries === "function" &&
typeof Float64Array.prototype.entries === "function");</code></pre><p>结果为 true。</p></div></div><div class="feature"><h4>二、Map</h4><h5 class="subheader">Map</h5><div class="feature-content"><h5>1.基本功能</h5><h5 class="subheader">basic functionality</h5><p>JavaScript 的对象，本质上是键值对的集合，但是只能用字符串或者 symbol 当作键。Object 结构提供了“字符串/symbox—值”的映射，Map结构提供了“值—值”的映射。Map 的键是跟内存地址绑定的，只要内存地址不一样，那就是两个不同的键。</p><pre><code class="javascript">var map = new Map();
var k1 = ['a'];
var k2 = ['a'];
map.set(k1, 111);
map.set(k2, 222);
console.log(map.get(k1)); //111
console.log(map.get(k2)); //222</code></pre><p>虽然 k1 和 k2 的值相同，但是指向不同的内存地址，所以视为两个 key。</p><pre><code class="javascript">var key = {};
var map = new Map();
map.set(key, 123);
console.log(map.has(key) && map.get(key) === 123);</code></pre><p>结果为 true。</p><h5>2.构造函数传入参数</h5><h5 class="subheader">constructor arguments</h5><pre><code class="javascript">var key1 = {};
var key2 = {};
var map = new Map([[key1, 123], [key2, 456]]);
console.log(map.has(key1) && map.get(key1) === 123 &&
       map.has(key2) && map.get(key2) === 456);</code></pre><p>结果为 true。</p><h5>3.迭代关闭</h5><h5 class="subheader">iterator closing</h5><p><kbd>__createIterableObject</kbd>为自定义的迭代器函数。</p><pre><code class="javascript">function __createIterableObject(a, b, c) {
  if (typeof Symbol === "function" && Symbol.iterator) {
    var arr = [a, b, c, ,];
    var iterable = {
      next: function() {
        return { value: arr.shift(), done: arr.length <= 0 };
      },
    };
    iterable[Symbol.iterator] = function(){ return iterable; }
    return iterable;
  }
  else {
    return eval("(function*() { yield a; yield b; yield c; }())");
  }
}

var closed = false;
var iter = __createIterableObject(1, 2, 3);
iter['return'] = function(){ closed = true; return {}; }
try {
  new Map(iter);
} catch(e){}
console.log(closed);</code></pre><span class="label radius warning">待测试</span><h5>4.map.set() 方法返回 this，因此可以进行链式操作。</h5><h5 class="subheader">Map.prototype.set returns this</h5><pre><code class="javascript">var map = new Map();
console.log(map.set(0, 0) === map);</code></pre><p>结果为 true。</p><h5>5. -0 和 +0 作为 key ，是相同的 key。</h5><h5 class="subheader">-0 key converts to +0</h5><pre><code class="javascript">var map = new Map();
map.set(-0, "foo");
var k;
map.forEach(function (value, key) {
  k = 1 / key;
});
console.log(k === Infinity && map.get(+0) == "foo");</code></pre><p>结果为 true。</p><h5>6.map 的长度</h5><h5 class="subheader">Map.prototype.size</h5><pre><code class="javascript">var key = {};
var map = new Map();
map.set(key, 123);
console.log(map.size === 1);</code></pre><p>结果为 true。</p><h5>7.map 的 delete 方法</h5><h5 class="subheader">Map.prototype.delete</h5><pre><code class="javascript">var a = {x:1};
var b = {x:2};
var map = new Map([[a,'xa'],[b,'xb']]);
map.delete(a);
console.log(map); //Map {Object {x: 2} => "xb"}</code></pre><h5>8.map 的清空 clear 方法</h5><h5 class="subheader">Map.prototype.clear</h5><pre><code class="javascript">var a = {x:1};
var b = {x:2};
var map = new Map([[a,'xa'],[b,'xb']]);
map.clear();
console.log(map); //Map {}</code></pre><h5>9.map 的 forEach 方法</h5><h5 class="subheader">Map.prototype.forEach</h5><pre><code class="javascript">var a = {x:1};
var b = {x:2};
var map = new Map([[a,'xa'],[b,'xb']]);
map.forEach(function(value,key){console.log(value,key)});
//xa Object {x: 1}
//xb Object {x: 2}</code></pre><h5>10.map 的 keys 方法</h5><h5 class="subheader">Map.prototype.keys</h5><pre><code class="javascript">var a = {x:1};
var b = {x:2};
var map = new Map([[a,'xa'],[b,'xb']]);
console.log(map.keys()); //MapIterator {Object {x: 1}, Object {x: 2}}</code></pre><p>keys 方法返回的是一个包含 map 所有键的迭代器。</p><h5>11.map 的 values 方法</h5><h5 class="subheader">Map.prototype.values</h5><pre><code class="javascript">var a = {x:1};
var b = {x:2};
var map = new Map([[a,'xa'],[b,'xb']]);
console.log(map.values()); //MapIterator {"xa", "xb"}</code></pre><p>values 方法返回的是一个包含 map 所有值的迭代器。</p><h5>12.map 的 entries 方法</h5><h5 class="subheader">Map.prototype.entries</h5><pre><code class="javascript">var a = {x:1};
var b = {x:2};
var map = new Map([[a,'xa'],[b,'xb']]);
console.log(map.entries()); //MapIterator {[Object, "xa"], [Object, "xb"]}</code></pre><p>entries 方法是返回 map 所有成员的遍历器。</p></div></div><div class="feature"><h4>三、Set</h4><h5 class="subheader">Set</h5><p>set 类似于数组，但是成员的值都是唯一的，没有重复的值。</p><div class="feature-content"><h5>1.基本功能</h5><h5 class="subheader">basic functionality</h5><pre><code class="javascript">var obj = {};
var set = new Set();
set.add(123);
set.add(123);
console.log(set.has(123));</code></pre><p>结果为 true。</p><h5>2.构造函数传入参数</h5><h5 class="subheader">constructor arguments</h5><pre><code class="javascript">var obj1 = {};
var obj2 = {};
var set = new Set([obj1, obj2]);
console.log(set.has(obj1) && set.has(obj2));</code></pre><p>结果为 true。</p><h5>3.迭代关闭</h5><h5 class="subheader">iterator closing</h5><p><kbd>__createIterableObject</kbd>为自定义的迭代器函数。</p><pre><code class="javascript">function __createIterableObject(a, b, c) {
  if (typeof Symbol === "function" && Symbol.iterator) {
    var arr = [a, b, c, ,];
    var iterable = {
      next: function() {
        return { value: arr.shift(), done: arr.length <= 0 };
      },
    };
    iterable[Symbol.iterator] = function(){ return iterable; }
    return iterable;
  }
  else {
    return eval("(function*() { yield a; yield b; yield c; }())");
  }
}

var closed = false;
var iter = __createIterableObject(1, 2, 3);
iter['return'] = function(){ closed = true; return {}; }
var add = Set.prototype.add;
Set.prototype.add = function(){ throw 0 };
try {
  new Set(iter);
} catch(e){}
Set.prototype.add = add;
console.log(closed);</code></pre><span class="label radius warning">待测试</span><h5>4.set.add() 方法返回 this，因此可以进行链式操作。</h5><h5 class="subheader">Set.prototype.add returns this</h5><pre><code class="javascript">var set = new Set();
console.log(set.add(0) === set);</code></pre><p>结果为 true。</p><h5>5. -0 和 +0 作为 key ，是相同的 key。</h5><h5 class="subheader">-0 key converts to +0</h5><pre><code class="javascript">var set = new Set();
set.add(-0);
var k;
set.forEach(function (value) {
  k = 1 / value;
});
console.log(k === Infinity && set.has(+0));</code></pre><p>结果为 true。</p><h5>6.set 的长度</h5><h5 class="subheader">Set.prototype.size</h5><pre><code class="javascript">var obj = {};
var set = new Set();
set.add(123);
set.add(123);
set.add(456);
console.log(set.size === 2);</code></pre><p>结果为 true。</p><h5>7.set 的 delete 方法</h5><h5 class="subheader">Set.prototype.delete</h5><pre><code class="javascript">var set = new Set(['s','x','y','x']);
set.delete('s');
console.log(set);  //Set {"x", "y"}</code></pre><h5>8.set 的清空 clear 方法</h5><h5 class="subheader">Set.prototype.clear</h5><pre><code class="javascript">var set = new Set(['s','x','y','x']);
set.clear();
console.log(set); //Set {}</code></pre><h5>9.set 的 forEach 方法</h5><h5 class="subheader">Set.prototype.forEach</h5><pre><code class="javascript">var set = new Set(['s','x','y','x']);
set.forEach(function(value){console.log(value)});
//s
//x
//y</code></pre><h5>10.set 的 keys 方法</h5><h5 class="subheader">Set.prototype.keys</h5><p>Set结构也有 keys 和 entries 方法，这时每个值的键名就是键值。</p><pre><code class="javascript">var set = new Set(['s','x','y','x']);
console.log(set.keys()); //SetIterator {"s", "x", "y"}</code></pre><p>keys 方法返回的是一个包含 set 所有键的迭代器。</p><h5>11.set 的 values 方法</h5><h5 class="subheader">Set.prototype.values</h5><pre><code class="javascript">var set = new Set(['s','x','y','x']);
console.log(set.values()); //SetIterator {"s", "x", "y"}</code></pre><p>values 方法返回的是一个包含 set 所有值的迭代器。</p><h5>12.set 的 entries 方法</h5><h5 class="subheader">Set.prototype.entries</h5><pre><code class="javascript">var set = new Set(['s','x','y','x']);
console.log(set.entries()); //SetIterator {["s", "s"], ["x", "x"], ["y", "y"]}</code></pre><p>entries 方法是返回 set 所有成员的遍历器。</p></div></div><div class="feature"><h4>四、weakMap</h4><h5 class="subheader">weakMap</h5><p>WeakMap 与 Map 类似，唯一的区别是它只接受对象作为键名（null 除外），不接受原始类型的值作为键名，而且键名所指向的对象，不计入垃圾回收机制。WeakMap 适用于，键所对应的对象可能会在将来消失，WeakMap 自动移除对应的键值对。WeakMap 结构有助于防止内存泄漏。</p><div class="feature-content"><h5>1.基本功能</h5><h5 class="subheader">basic functionality</h5><pre><code class="javascript">var key = {};
var weakmap = new WeakMap();
weakmap.set(key, 123);
console.log(weakmap.has(key) && weakmap.get(key) === 123);</code></pre><p>结果为 true。</p><h5>2.构造函数传入参数</h5><h5 class="subheader">constructor arguments</h5><pre><code class="javascript">var key1 = {};
var key2 = {};
var weakmap = new WeakMap([[key1, 123], [key2, 456]]);
console.log(weakmap.has(key1) && weakmap.get(key1) === 123 &&
       weakmap.has(key2) && weakmap.get(key2) === 456);</code></pre><p>结果为 true。</p><h5>3.迭代关闭</h5><h5 class="subheader">iterator closing</h5><pre><code class="javascript">function __createIterableObject(a, b, c) {
  if (typeof Symbol === "function" && Symbol.iterator) {
    var arr = [a, b, c, ,];
    var iterable = {
      next: function() {
        return { value: arr.shift(), done: arr.length <= 0 };
      },
    };
    iterable[Symbol.iterator] = function(){ return iterable; }
    return iterable;
  }
  else {
    return eval("(function*() { yield a; yield b; yield c; }())");
  }
}

var closed = false;
var iter = __createIterableObject(1, 2, 3);
iter['return'] = function(){ closed = true; return {}; }
try {
  new WeakMap(iter);
} catch(e){}
console.log(closed);</code></pre><span class="label radius warning">待测试</span><h5>4.set 方法返回 this</h5><h5 class="subheader">WeakMap.prototype.set returns this</h5><pre><code class="javascript">var weakmap = new WeakMap();
var key = {};
console.log(weakmap.set(key, 0) === weakmap);</code></pre><p>结果为 true。</p><h5>5.delete 方法</h5><h5 class="subheader">WeakMap.prototype.delete</h5><pre><code class="javascript">var key = {};
var weakmap = new WeakMap();
weakmap.set(key, 123);
weakmap.delete(key);
console.log(weakmap); //WeakMap {}</code></pre><h5>6.支持对象作为键</h5><h5 class="subheader">Support frozen objects as keys</h5><pre><code class="javascript">var f = Object.freeze({});
var m = new WeakMap;
m.set(f, 42);
console.log(m.get(f) === 42);</code></pre><p>结果为 true。</p></div></div><div class="feature"><h4>五、weakSet</h4><h5 class="subheader">weakSet</h5><p>WeakSet 的成员只能是对象，而不能是其他原始类型类型的值。其次，WeakSet 中的对象都是弱引用，即垃圾回收机制不考虑 WeakSet 对该对象的引用，也就是说，如果其他对象都不再引用该对象，那么垃圾回收机制会自动回收该对象所占用的内存，不考虑该对象还存在于 WeakSet 之中。这个特点意味着，无法引用 WeakSet 的成员，因此 WeakSet 是不可遍历的。</p><div class="feature-content"><h5>1.基本功能</h5><h5 class="subheader">basic functionality</h5><pre><code class="javascript">var obj1 = {};
var weakset = new WeakSet();
weakset.add(obj1);
weakset.add(obj1);
console.log(weakset.has(obj1));</code></pre><p>结果为 true。</p><h5>2.构造函数传入参数</h5><h5 class="subheader">constructor arguments</h5><pre><code class="javascript">var obj1 = {}, obj2 = {};
var weakset = new WeakSet([obj1, obj2]);
console.log(weakset.has(obj1) && weakset.has(obj2));</code></pre><p>结果为 true。</p><h5>3.迭代关闭</h5><h5 class="subheader">iterator closing</h5><pre><code class="javascript">function __createIterableObject(a, b, c) {
  if (typeof Symbol === "function" && Symbol.iterator) {
    var arr = [a, b, c, ,];
    var iterable = {
      next: function() {
        return { value: arr.shift(), done: arr.length <= 0 };
      },
    };
    iterable[Symbol.iterator] = function(){ return iterable; }
    return iterable;
  }
  else {
    return eval("(function*() { yield a; yield b; yield c; }())");
  }
}

var closed = false;
var iter = __createIterableObject(1, 2, 3);
iter['return'] = function(){ closed = true; return {}; }
try {
  new WeakSet(iter);
} catch(e){}
console.log(closed);</code></pre><span class="label radius warning">待测试</span><h5>4.add 方法返回 this</h5><h5 class="subheader">WeakSet.prototype.set returns this</h5><pre><code class="javascript">var weakset = new WeakSet();
var obj = {};
console.log(weakset.add(obj) === weakset);</code></pre><p>结果为 true。</p><h5>5.delete 方法</h5><h5 class="subheader">WeakSet.prototype.delete</h5><pre><code class="javascript">var key = {};
var weakset = new WeakSet();
weakset.add(key, 123);
weakset.delete(key);
console.log(weakset); //WeakSet {}</code></pre></div></div><div class="feature"><h4>六、Proxy</h4><h5 class="subheader">Proxy</h5><div class="feature-content"></div></div><div class="feature"><h4>七、Reflect</h4><h5 class="subheader">Reflect</h5><div class="feature-content"></div></div><div class="feature"><h4>八、Promise</h4><h5 class="subheader">Promise、</h5><p>Promise 对象，代表了未来某个将要发生的事件（通常是一个异步操作）。</p><div class="feature-content"><h5>1.basic functionality</h5><h5 class="subheader">基本功能</h5><pre><code class="javascript">var p1 = new Promise(function(resolve, reject) { resolve("foo"); });
var p2 = new Promise(function(resolve, reject) { reject("quux"); });
var score = 0;

function thenFn(result)  { score += (result === "foo");  check(); }
function catchFn(result) { score += (result === "quux"); check(); }
function shouldNotRun(result)  { score = -Infinity;   }

p1.then(thenFn, shouldNotRun);
p2.then(shouldNotRun, catchFn);
p1.catch(shouldNotRun);
p2.catch(catchFn);

p1.then(function() {
  // Promise.prototype.then() should return a new Promise
  score += p1.then() !== p1;
  check();
});

function check() {
  if (score === 4) asyncTestPassed();
}</code></pre><h5>2.Promise.all</h5><h5 class="subheader">Promise.all</h5><p>p1、p2的状态都变成 fulfilled，p 的状态才会变成 fulfilled，p1、p2 的返回值组成一个数组，传给 p 的回调函数。p1、p2 有一个被rejected，p的状态就变成 rejected，第一个被 reject 的实例的返回值，传给 p 的回调函数。</p><pre><code class="javascript">var fulfills = Promise.all([ //p
  new Promise(function(resolve)   { setTimeout(resolve,200,"foo"); }), //p1
  new Promise(function(resolve)   { setTimeout(resolve,100,"bar"); }), //p2
]);
var rejects = Promise.all([
  new Promise(function(_, reject) { setTimeout(reject, 200,"baz"); }),
  new Promise(function(_, reject) { setTimeout(reject, 100,"qux"); }),
]);
var score = 0;
fulfills.then(function(result) { score += (result + "" === "foo,bar"); check(); });
rejects.catch(function(result) { score += (result === "qux"); check(); });

function check() {
  if (score === 2) asyncTestPassed();
}</code></pre><h5>3.Promise.race</h5><h5 class="subheader">Promise.race</h5><p>只要 p1、p2 之中有一个实例率先改变状态，p 的状态就跟着改变。那个率先改变的 Promise 实例的返回值，就传递给 p 的返回值。</p><pre><code class="javascript">var fulfills = Promise.race([ //p
  new Promise(function(resolve)   { setTimeout(resolve,200,"foo"); }), //p1
  new Promise(function(_, reject) { setTimeout(reject, 300,"bar"); }), //p2
]);
var rejects = Promise.race([
  new Promise(function(_, reject) { setTimeout(reject, 200,"baz"); }),
  new Promise(function(resolve)   { setTimeout(resolve,300,"qux"); }),
]);
var score = 0;
fulfills.then(function(result) { score += (result === "foo"); check(); });
rejects.catch(function(result) { score += (result === "baz"); check(); });

function check() {
  if (score === 2) asyncTestPassed();
}</code></pre></div></div><div class="feature"><h4>九、Symbol</h4><h5 class="subheader">Symbol</h5><p>Symbol 是一种新的原始数据类型，表示独一无二的 ID。通过 Symbol 函数生成。Symbol 类型对象和字符串一样，可以作为属性名。</p><div class="feature-content"><h5>1.基本功能</h5><h5 class="subheader">basic functionality</h5><pre><code class="javascript">var object = {};
var symbol = Symbol();
var value = {};
object[symbol] = value;
console.log(object[symbol] === value);</code></pre><p>结果为 true。</p><h5>2.typeof 支持</h5><h5 class="subheader">typeof support</h5><pre><code class="javascript">console.log(typeof Symbol() === "symbol");</code></pre><p>结果为 true。</p><h5>3.symbol 键在 pre-ES6 里是隐藏的</h5><h5 class="subheader">symbol keys are hidden to pre-ES6 code</h5><p>Symbol作为属性名，该属性不会出现在for...in循环中，也不会被Object.keys()、Object.getOwnPropertyNames()返回。Object.getOwnPropertySymbols 可以获得对象的 symbol 键值对。</p><pre><code class="javascript">var object = {};
var symbol = Symbol();
object[symbol] = 1;

for (var x in object){}
var passed = !x;

if (Object.keys && Object.getOwnPropertyNames) {
  passed = passed && Object.keys(object).length === 0
    && Object.getOwnPropertyNames(object).length === 0;
}
console.log(passed);</code></pre><p>结果为 true。</p><h5>4.Object.defineProperty 支持</h5><h5 class="subheader">Object.defineProperty support</h5><pre><code class="javascript">var object = {};
var symbol = Symbol();
var value = {};

if (Object.defineProperty) {
  Object.defineProperty(object, symbol, { value: value });
  console.log(object[symbol] === value);
}</code></pre><p>结果为 true。</p><h5>5.不能强制转换为字符串或数字</h5><h5 class="subheader">cannot coerce to string or number</h5><p>Symbol 类型的值与其他类型的值进行运算会报错。</p><pre><code class="javascript">var symbol = Symbol();
var passed;
try {
  symbol + "";
  passed = false;
}
catch(e) {}
try {
  symbol + 0;
  passed = false;
} catch(e) {}

console.log(true);</code></pre><p>结果为 true。</p><h5>6.可以通过 String() 转换为字符串</h5><h5 class="subheader">can convert with String()</h5><pre><code class="javascript">console.log(String(Symbol("foo")) === "Symbol(foo)");</code></pre><p>结果为 true。</p><h5>7.new Symbol() 会抛出异常</h5><h5 class="subheader">new Symbol() throws</h5><p>symbol 类型为原始数据类型，不是对象，所以不能用 new Symbol() 实例化。</p><pre><code class="javascript">var symbol = Symbol();
try {
  new Symbol();
} catch(e) {
  console.log(true);
}</code></pre><p>结果为 true。</p><h5>8.Object(symbol)</h5><h5 class="subheader">Object(symbol)</h5><pre><code class="javascript">var symbol = Symbol();
var symbolObject = Object(symbol);

console.log(typeof symbolObject === "object" &&
  symbolObject == symbol &&
  symbolObject !== symbol &&
  symbolObject.valueOf() === symbol);</code></pre><p>结果为 true。</p><h5>9.全局 symbol 注册</h5><h5 class="subheader">global symbol registry</h5><pre><code class="javascript">var symbol = Symbol.for('foo');
console.log(Symbol.for('foo') === symbol &&
   Symbol.keyFor(symbol) === 'foo');</code></pre><p>结果为 true。</p></div></div><div class="feature"><h4>十、常用的 symbols</h4><h5 class="subheader">well known symbols</h5><div class="feature-content"><h5>1.Symbol.hasInstance</h5><h5 class="subheader">Symbol.hasInstance</h5><pre><code class="javascript">var passed = false;
var obj = { foo: true };
var C = function(){};
Object.defineProperty(C, Symbol.hasInstance, {
  value: function(inst) { passed = inst.foo; return false; }
});
obj instanceof C;
console.log(passed);</code></pre><span class="label radius warning">待测试</span><h5>2.Symbol.isConcatSpreadable</h5><h5 class="subheader">Symbol.isConcatSpreadable</h5><pre><code class="javascript">var a = [], b = [];
b[Symbol.isConcatSpreadable] = false;
a = a.concat(b);
console.log(a[0] === b);</code></pre><span class="label radius warning">待测试</span><h5>3.Symbol.iterator</h5><h5 class="subheader">Symbol.iterator</h5><pre><code class="javascript">var a = 0, b = {};
b[Symbol.iterator] = function() {
  return {
    next: function() {
      return {
        done: a++ === 1,
        value: "foo"
      };
    }
  };
};
var c;
for (c of b) {}
console.log(c === "foo");</code></pre><p>结果为 true。</p><h5>4.Symbol.species</h5><h5 class="subheader">Symbol.species</h5><pre><code class="javascript">console.log(RegExp[Symbol.species] === RegExp
&& Array[Symbol.species] === Array
&& !(Symbol.species in Object));</code></pre><span class="label radius warning">待测试</span><h5>5.Symbol.toPrimitive</h5><h5 class="subheader">Symbol.toPrimitive</h5><pre><code class="javascript">var a = {}, b = {}, c = {};
var passed = 0;
a[Symbol.toPrimitive] = function(hint) { passed += hint === "number";  return 0; };
b[Symbol.toPrimitive] = function(hint) { passed += hint === "string";  return 0; };
c[Symbol.toPrimitive] = function(hint) { passed += hint === "default"; return 0; };

a >= 0;
b in {};
c == 0;
console.log(passed === 3);</code></pre><span class="label radius warning">待测试</span><h5>6.Symbol.toStringTag</h5><h5 class="subheader">Symbol.toStringTag</h5><pre><code class="javascript">var a = {};
a[Symbol.toStringTag] = "foo";
console.log((a + "") === "[object foo]");</code></pre><span class="label radius warning">待测试</span><h5>7.Symbol.unscopables</h5><h5 class="subheader">Symbol.unscopables</h5><pre><code class="javascript">var a = { foo: 1, bar: 2 };
a[Symbol.unscopables] = { bar: true };
with (a) {
  console.log(foo === 1 && typeof bar === "undefined");
}</code></pre><span class="label radius warning">待测试</span></div></div></div></div><script type="text/javascript">$(document).ready(function() {
  var animate = false;
  var active_nav =  function(){
    $('.feature h4').each(function(i, el){
      if (animate) return;
      if (Math.abs($(window).scrollTop() - $(el).offset().top) < 60) {
        $('.scroll-nav td').removeClass('active');
        $($('.scroll-nav td')[i]).addClass('active');
      }
    });
  };
  active_nav();
  $('.scroll-nav').width($('.scroll-nav').parent('.large-3').width()-20);
  $('.feature h4').each(function(i, el){
    $(this).attr('data-text', $(el).text().split('、')[1]);
    if(i == 0){
      $('.scroll-nav').append('<tr><td class="active">' + $(el).text().split('、')[1] + '</td></tr>');
    } else {
      $('.scroll-nav').append('<tr><td>' + $(el).text().split('、')[1] + '</td></tr>');
    }
  });
  $('.scroll-nav td').on('click', function(e){
    e.preventDefault();
    if($(this).find('a').length > 0){
      var target = $( $(this).find('a').attr('href') );
    } else {
      var target = $('.feature').find('[data-text="' + $(this).text() + '"]');
    }
    $('.scroll-nav td').removeClass('active');
    $(this).addClass('active');
    animate = true;
    $('html, body').animate({
      scrollTop: target.offset().top - 48
    }, 1000, 
    function(){
      animate = false;
    });
  });
  $(document).scroll(function(){
    active_nav();
  });
});</script><script type="text/javascript">$("#built-ins").addClass('active');</script></div><div class="footer wrap"><div class="row"><div class="large-8 large-centered small-10 small-centered"><p>项目托管在<a href="https://github.com/wendycan/es6tutorial" target="_blank"><i class="fa fa-ok"></i>GitHub</a></p><p>作者<a href="https://github.com/wendycan" target="_blank">wendy</a></p><p>友情链接<a href="http://larklearning.com" target="_blank">wendy的小站</a><a href="http://yuetai.larklearning.com" target="_blank">阅台</a></p></div></div></div><script type="text/javascript">$(document).foundation();
hljs.initHighlightingOnLoad();</script></body></html>